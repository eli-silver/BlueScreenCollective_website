<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>:(</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        body {
            background-color:  #0000AA; 
            color: white;
            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: left;
            padding: 2rem;
            box-sizing: border-box;
        }

        .bsod-container {
            max-width: 1200px;
            width: 100%;
        }

        .sad-face {
            font-size: 8rem;
            font-weight: 300;
            margin-bottom: 2rem;
        }

        .main-message {
            font-size: 2.25rem;
            font-weight: 400;
            line-height: 1.4;
            margin-bottom: 2rem;
        }

        /* .percentage {
            font-size: 1.5rem;
            font-weight: 400;
            margin-bottom: 4rem;
        } */

        .percentage {
            font-size: 1.5rem;
            font-weight: 400;
            margin-bottom: 4rem;
            color: white;
            text-decoration: none;
            cursor: pointer;
            transition: color 0.2s ease-in-out; /* Add a smooth transition effect */
        }
        
        .percentage:hover {
            color: #FFFF55;
        }

        .info-section {
            display: flex;
            align-items: flex-start;
            gap: 2rem;
        }

        .qr-code {
            width: 128px;
            height: 128px;
            background-color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2px;
        }

        .qr-code img {
            width: 100%;
            height: 100%;
        }


        .info-text {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .info-line {
            font-size: 1rem;
            line-height: 1.5;
        }

        .stop-code {
            margin-top: 2rem;
            font-size: 1rem;
            font-weight: 500;
        }

        @media (max-width: 768px) {
            .sad-face {
                font-size: 5rem;
                margin-bottom: 1rem;
            }

            .main-message {
                font-size: 1.5rem;
                margin-bottom: 1rem;
            }

            .percentage {
                font-size: 1.25rem;
                margin-bottom: 2rem;
            }

            .info-section {
                flex-direction: column;
                gap: 1.5rem;
            }

            .qr-code {
                width: 96px;
                height: 96px;
            }

            .stop-code {
                margin-top: 1.5rem;
            }
        }
    </style>

    <!-- Preload QR code image -->
    <link rel="preload" href="assets/svg/insta-qr-code.svg" as="image">


</head>
<body>
    <div class="bsod-container">
        <div class="sad-face">:(</div>
        <p class="main-message">
            Your PC ran into a problem and needs to restart. We're just checking your psychic resonances before proceding.
        </p>
        <p>
            <a href="bios.html" class="percentage" id="percentage-text">
                0% complete
            </a>
        </p>

        <div class="info-section">
            <div class="qr-code">
               <img src="assets/svg/insta-qr-code.svg" alt="QR Code" onerror="this.style.display='none'">
            </div>
            <div class="info-text">
                <p class="info-line">
                    For more information about this issue and possible fixes, visit https://www.google.com
                </p>
                <p class="info-line">
                    If you call a support person, give them this info:<br>
                    Stop code: COMPUTER_SLOWLY_BECOMING_OBSOLETE
                </p>
            </div>
        </div>
    </div>

    <script>
    // Get the percentage element by its ID
    const percentageText = document.getElementById('percentage-text');

    // An array of percentage values and the time to wait before updating
    const progressSteps = [
        { value: 0, delay: 200 },
        { value: 1, delay: 500 },
        { value: 2, delay: 500 },
        { value: 3, delay: 1000 },
        { value: 42, delay: 1500 },
        { value: 41, delay: 1000 },
        { value: 40, delay: 800 },
        { value: 39, delay: 500 },
        { value: 80, delay: 1000 },
        { value: 81, delay: 800 },
        { value: 82, delay: 800 },
        { value: 83, delay: 500 },
        { value: 84, delay: 500 },
        { value: 99, delay: 3000 },
        { value: 100, delay: 1000 },
        { value: 100, delay: 500 }
    ];

    let stepIndex = 0;

    // Function to update the percentage text with a delay
    function updatePercentage() {
        if (stepIndex < progressSteps.length) {
            const currentStep = progressSteps[stepIndex];
            percentageText.textContent = `${currentStep.value}% complete`;
            stepIndex++;
            
            // Call the function again after the specified delay
            setTimeout(updatePercentage, currentStep.delay);
        }
        else if (stepIndex === progressSteps.length) {
            percentageText.textContent = `Rebooting... Click if redirect fails`;
            percentageText.style.color = '#FFFF55';
            setTimeout(() => {
                window.location.href = "bios.html";
            }, 3000);
        }
    }


    // Preload images during animation
    function preloadImages() {
        const imagesToPreload = [
            'assets/images/DSH-1.jpg',
            'assets/images/DSH-2.jpg',
            'assets/images/DSH-3.jpg',
            'assets/images/DSH-4.jpg',
            'assets/images/DSH-5.jpg',
            'assets/images/DSH-6.jpg',
            'assets/images/DSH-7.jpg',
            'assets/images/DSH-8.jpg',
            'assets/images/DSH-9.jpg',
            'assets/images/DSH-10.jpg',
            'assets/images/DSH-11.jpg',
            'assets/images/DSH-12.jpg',
            'assets/images/DSH-13.jpg',
            'assets/images/DSH-14.jpg',
            'assets/images/DSH-15.jpg',
            'assets/images/DSH-16.jpg',
            'assets/images/DSH-17.jpg',
            'assets/images/DSH-18.jpg',
            'assets/images/DSH-19.jpg',
            'assets/images/DSH-20.jpg',
            'assets/images/DSH-21.jpg',
            'assets/images/DSH-22.jpg',
            'assets/images/DSH-23.jpg',
            'assets/images/DSH-24.jpg',
            'assets/images/DSH-25.jpg',
        ];
        
        imagesToPreload.forEach(src => {
            const img = new Image();
            img.src = src;
            // Images are now cached
        });
    }

    // Reset and start animation when page loads
    window.addEventListener('load', function() {
        preloadImages();
        stepIndex = 0;  // Reset the counter
        updatePercentage();  // Start the animation
    });
</script>
</body>
</html>
